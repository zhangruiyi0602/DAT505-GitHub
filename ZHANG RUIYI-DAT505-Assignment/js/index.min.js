(function(){function e(){var e=document.getElementById("container");d=new THREE.PerspectiveCamera(30,window.innerWidth/window.innerHeight,1,5e3),d.position.set(0,0,250),s=new THREE.Scene({antialias:!0,alpha:!0}),s.background=(new THREE.Color).setHSL(.6,0,1),s.fog=new THREE.Fog(s.background,1,5e3),E=new THREE.Group,s.add(E),w=new THREE.HemisphereLight(16777215,16777215,.6),w.color.setHSL(.6,1,.6),w.groundColor.setHSL(.095,1,.75),w.position.set(0,50,0),s.add(w),l=new THREE.DirectionalLight(16777215,1),l.color.setHSL(.1,1,.95),l.position.set(-1,1.75,1),l.position.multiplyScalar(30),s.add(l),l.castShadow=!0,l.shadow.mapSize.width=2048,l.shadow.mapSize.height=2048;var t=50;l.shadow.camera.left=-t,l.shadow.camera.right=t,l.shadow.camera.top=t,l.shadow.camera.bottom=-t,l.shadow.camera.far=3500,l.shadow.bias=-1e-4;var a=new THREE.PlaneBufferGeometry(1e4,1e4),r=new THREE.MeshLambertMaterial({color:16777215});r.color.setHSL(.095,1,.75);var h=new THREE.Mesh(a,r);h.position.y=-33,h.rotation.x=-Math.PI/2,h.receiveShadow=!0,s.add(h);var p=new THREE.GLTFLoader;p.load("models/Flamingo.glb",function(e){var n=e.scene.children[0],t=.35;n.scale.set(t,t,t),n.position.y=15,n.rotation.y=-1,n.castShadow=!0,n.receiveShadow=!0,E.add(n);var a=new THREE.AnimationMixer(n);a.clipAction(e.animations[0]).setDuration(1).play(),m.push(a)}),c=new THREE.WebGLRenderer({antialias:!0}),c.setPixelRatio(window.devicePixelRatio),c.setSize(window.innerWidth,window.innerHeight),e.appendChild(c.domElement),c.gammaInput=!0,c.gammaOutput=!0,c.shadowMap.enabled=!0,u=new THREE.OrbitControls(d,c.domElement),u.enableDamping=!0,u.dampingFactor=1,u.enableZoom=!0,u.autoRotate=!1,u.enablePan=!1,window.addEventListener("resize",n,!1),window.addEventListener("mousedown",o,!1),window.addEventListener("mouseUp",i,!1)}function n(){d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)}function t(){requestAnimationFrame(t),a()}function a(){for(var e=h.getDelta(),n=0;n<m.length;n++)m[n].update(e);c.render(s,d)}function o(e){e.preventDefault(),H&&(H=null);var n=r(e.layerX,e.layerY);if(n.length>0){var t=n.filter(function(e){return e&&e.object})[0];t&&t.object&&(H=t.object,H.material.color.set(v[Math.round(6*Math.random())]),f=!f,R.classList.toggle("music-off"),f?b.play():b.pause())}}function i(e){e.preventDefault(),b.pause()}function r(e,n){return e=e/window.innerWidth*2-1,n=-n/window.innerHeight*2+1,g.set(e,n,.5),p.setFromCamera(g,d),p.intersectObject(E,!0)}var d,s,c,l,w;!1===WEBGL.isWebGLAvailable()&&document.body.appendChild(WEBGL.getWebGLErrorMessage());var u,E,m=[],h=new THREE.Clock,p=new THREE.Raycaster,g=new THREE.Vector3,H=null,f=!1,v=["#f7cbd7","#acff88","#FFC125","#FFC125","#FF1493","#C0FF3E","#9F79EE"];e(),t();const b=document.querySelector(".music"),R=document.querySelector(".btn-music");R.addEventListener("click",()=>{f=!f,R.classList.toggle("music-off"),f?b.play():b.pause()}),b.volume=.3,b.loop=!0})();